arrow_img_sm = img("""
               . d . 
                    d d d 
                    . e . 
                    . e . 
                    . e . 
                    1 . 1
""")
arrow_img_lg = img("""
    . . . d . . .
    . . d d d . .
    . d d d d d .
    . . . e . . .
    . . . e . . .
    . . . e . . .
    . . . e . . .
    . . . e . . .
    . . 1 . 1 . .
    . 1 . . . 1 .
    . . . . . . .
    . . . . . . .
""")
arrow_img_xl = img("""
    . . . . . . d . . . . . .
    . . . . . d d d . . . . .
    . . . . d d f d d . . . .
    . . . d d f . f d d . . .
    . . . . d d f d d . . . .
    . . . . . d d d . . . . .
    . . . . . . d . . . . . .
    . . . . . . e . . . . . .
    . . . . . . e . . . . . .
    . . . . . . e . . . . . .
    . . . . . . e . . . . . .
    . . . . . . e . . . . . .
    . . . . . 1 e 1 . . . . .
    . . . . 1 b e b 1 . . . .
    . . . 1 b . . . b 1 . . .
    . . 1 b . . . . . b 1 . .
""")
arrow_img_final = img("""
    . . . . . . . . . . 5 . . . . . . . . . .
    . . . . . . . . . 5 f 5 . . . . . . . . .
    . . . . . . . . 5 f . f 5 . . . . . . . .
    . . . . . . . 5 f . 2 . f 5 . . . . . . .
    . . . . . . . 5 f . 2 . f 5 . . . . . . .
    . . . . . . . 5 f . 2 . f 5 . . . . . . .
    . . . . . . . 5 f . 2 . f 5 . . . . . . .
    . . . . . . . . 5 f . f 5 . . . . . . . .
    . . . . . . . . . 5 f 5 . . . . . . . . .
    . . . . . . . . . e 5 e . . . . . . . . .
    . . . . . . . . . e e e . . . . . . . . .
    . . . . . . . . . e 2 e . . . . . . . . .
    . . . . . . . . . 2 7 2 . . . . . . . . .
    . . . . . . . . . e 2 e . . . . . . . . .
    . . . . . . . . . e e e . . . . . . . . .
    . . . . . . . . . e 2 e . . . . . . . . .
    . . . . . . . . 1 2 7 2 1 . . . . . . . .
    . . . . . . . 1 d e 2 e d 1 . . . . . . .
    . . . . . . 1 d b e e e b d 1 . . . . . .
    . . . . . 1 d b . . . . . b d 1 . . . . .
    . . . . 1 d b . . . . . . . b d 1 . . . .
    . . . 1 d b . . . . . . . . . b d 1 . . .
    . . . . b . . . . . . . . . . . b . . . . """)
gold_img_1 = img("""
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ...................................................................................................................ffffff.......................................
    ...................................................................................................................f55bdf.......................................
    ...................................................................................................................f555bf.......................................
    ...................................................................................................................f5555f.......................................
    ...................................................................................................................ffffff.......................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
""")

# Projectiles and upgrades

def on_player1_button_a_pressed():
    arrow1 = sprites.create_projectile_from_sprite(arrow_img_sm,
        hero,0,-35)
controller.player1.on_button_event(ControllerButton.A,
    ControllerButtonEvent.PRESSED,
    on_player1_button_a_pressed)

def on_on_overlap(sprite, otherSprite):
    sprite.destroy()
    otherSprite.destroy()
    info.change_score_by(1)
sprites.on_overlap(SpriteKind.projectile, SpriteKind.enemy, on_on_overlap)


# Scene creation
scene.set_background_color(6)
scene.set_background_image(img("""
    ................................................................................................................................................................
    ................................................................................................................................................................
    .....................................................................................................................................................ff.........
    ........ff..........................................................................................................................................fffff.......
    .......fffff........................................................................................................................................f777ff......
    .......f777ff......................................................................................................................................ff6777f......
    ......ff6777f......................................................................................................................................f76777ff.....
    ......f76777ff....................................................................................................................................ff677777ff....
    .....ff677777ff...................................................................................................................................f66777777f....
    .....f66777777f..................................................................................................................................f666777777ff...
    ....f666777777ff................................................................................................................................ffc677777777f...
    ...ffc677777777f................................................................................................................................fcc677777777ff..
    ...fcc677777777ff...............................................................................................................................f667777777777f..
    ...f667777777777f..............................................................................................................................ff667777777777ff.
    ..ff667777777777ff.............................................................................................................................fc6677777777777f.
    ..fc6677777777777f.............................................................................................................................f67777777777777f.
    ..f67777777777777f.............................................................................................................................fffffeeeeeffffff.
    ..fffffeeeeeffffff.................................................................................................................................feeeeef......
    ......feeeeef......................................................................................................................................feeeeef......
    ......feeeeef......................................................................................................................................feeeeef......
    ......feeeeef......................................................................................................................................feeeeef......
    ......feeeeef......................................................................................................................................feeeeef......
    ......feeeeef.....................................................................................................................................ffeeeeeff.....
    .....ffeeeeeff....................................................................................................................................feeeeeeef.....
    .....feeeeeeef....................................................................................................................................feeeeeeef.....
    .....feeeeeeef....................................................................................................................................feeeeeeef.....
    .....feeeeeeef....................................................................................................................................fffffffff.....
    .....fffffffff..................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    dddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddd
    dddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddd
    dddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddd
    dddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddd
    dddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddd
"""))
# Game info(lives, score)
info.set_score(0)
info.set_life(3)
info.set_border_color(1)
info.set_life_image(img("""
    . . . f . . . f . . .
        . . f 2 f . f 2 f . .
        . f 2 2 2 f 2 1 2 f .
        f 2 2 2 2 2 2 2 1 2 f
        f 2 2 2 2 2 2 2 2 2 f
        . f 2 2 2 2 2 2 2 f .
        . . f 2 2 2 2 2 f . .
        . . . f 2 2 2 f . . .
        . . . . f 2 f . . . .
        . . . . . f . . . . .
"""))
# Player creation
hero = sprites.create(img("""
    . . . . . . . d d d d . . . . . 5 5 5 . . .
    . . . . . . . 1 1 . d d . . . . 5 f 5 . . .
    . . . 1 5 5 5 5 . 1 . d d d . e 5 5 5 . . .
    . . 1 5 5 5 5 5 . . 1 . . d e e 2 . . . . .
    . 1 5 5 5 5 4 4 . . . 1 . e e 2 4 . . . . .
    . 1 5 5 5 5 4 f . . . . e e 2 4 d 4 . . . .
    . 1 5 5 5 5 4 4 . 4 4 e 2 1 4 4 4 d d . . .
    . . 1 1 5 4 4 . 4 4 4 . . 4 4 4 . . d d . .
    . b b 4 4 4 b b 4 4 . . 4 4 4 1 . . . d . .
    b d d 4 4 4 d d b . . 4 4 4 . . 1 . . d d .
    b d d d d d d d d b 4 4 4 . . . . 1 . . d .
    b d d d 2 d d d d d b 4 . . . . . . 1 . d .
    . b d 2 5 2 d d d d b . . . . . . . . 1 d .
    . b 2 5 5 5 2 b b b . . . . . . . . . 1 d .
    . b d 2 5 2 d b . . . . . . . . . . . . . .
    . b d d 2 d d b . . . . . . . . . . . . . .
    . b d d d d d b . . . . . . . . . . . . . .
    . b d d d d d b . . . . . . . . . . . . . .
    . b d b b b d b . . . . . . . . . . . . . .
    . c b b b b b c . . . . . . . . . . . . . .
    . c b b c b b c . . . . . . . . . . . . . .
    . c b b c b b c . . . . . . . . . . . . . .
    . c b b c b b c . . . . . . . . . . . . . .
    . c b b c b b c . . . . . . . . . . . . . .
    . c b b c b b c . . . . . . . . . . . . . .
    c d b b c b b d c . . . . . . . . . . . . .
    c d b b c b b d c . . . . . . . . . . . . .
    c d b b c b b d c . . . . . . . . . . . . .
    . c d d c d d c . . . . . . . . . . . . . .
    . . c c . c c . . . . . . . . . . . . . . .
"""),SpriteKind.player)
hero.set_position(80, 100)
 
    
# Controls
controller.move_sprite(hero, 220, 0)
hero.set_flag(SpriteFlag.STAY_IN_SCREEN, True)
# Enemies creation

def on_update_interval():
    snake = sprites.create(img("""
            . . . . . . . . . . . . f 5 . . . . . . 
                    . . . . . . . . . . f f 5 f . . . . . . 
                    . . . . . . . . . f f 5 f . . . . . . . 
                    . . . . . . . . f f 5 f f . . . . . . . 
                    . . . . . . . f f 5 f f . . . . . . . . 
                    . . . . . . f f 5 f f . . . . . . . . . 
                    . . . . . f f 5 f f . . . . . . . . . . 
                    . . . . . f 5 f f . . . . . . . . . . . 
                    . . . . . f f 5 f f . . . . . . . . . . 
                    . . . . . . f f 5 f 5 f f f . . . . . . 
                    . . . . . . . f f 5 f f f f f . . . . . 
                    . . . . . . . . 5 f f f f f f . . . . . 
                    . . . . . . . . f f f f f f f . . . . . 
                    . . . . . . . . f f f f f f f . . . . . 
                    . . . . . . . . f 2 2 f 2 2 f . . . . . 
                    . . . . . . . . . f f f f f . . . . . . 
                    . . . . . . . . . . . 3 . . . . . . . . 
                    . . . . . . . . . . . 3 . . . . . . . . 
                    . . . . . . . . . . 3 . 3 . . . . . . . 
                    . . . . . . . . . . . . . . . . . . . .
        """),
        SpriteKind.enemy)
        
    snake.set_position(randint(152, 8), 0)
    snake.set_velocity(0, 28)
game.on_update_interval(1250, on_update_interval)

def on_update():
    global arrow_img_sm 
    global gold_img_1
    if info.score()>10:
        arrow_img_sm = arrow_img_lg
       
game.on_update(on_update)

def on_update2():
    global arrow_img_lg
    if info.score()>20:
        arrow_img_lg = arrow_img_xl
game.on_update(on_update2)

def on_update3():
    global arrow_img_xl
    if info.score()>30:
        arrow_img_xl = arrow_img_final
game.on_update(on_update3)

def on_update4():
    def on_overlap(sprite, otherSprite):
        info.change_life_by(-1)
        sprite.destroy()
    sprites.on_overlap(SpriteKind.enemy, SpriteKind.player, on_overlap)
game.on_update(on_update4)
     
